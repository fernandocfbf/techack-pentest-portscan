import socket
from utils.handle_submit import handle_submit
import nmap

import tkinter as tk
from tkinter import ttk

s = nmap.PortScannerAsync()

# root window
root = tk.Tk()
root.geometry('450x100')
root.resizable(False, False)
root.title('Port Scanner')

host_name_txt = ttk.Label(text="Input the hostname*: ")
host_name_txt.grid(column=0, row=1)

host_name_entry = ttk.Entry()
host_name_entry.grid(column=1, row=1)

port_txt = ttk.Label(text="Port*: ")
port_txt.grid(column=0, row=2)

port_entry = ttk.Entry()
port_entry.grid(column=1, row=2)

range_txt = ttk.Label(text="Input the port range: ")
range_txt.grid(column=0, row=3)

range1_entry = ttk.Entry()
range1_entry.grid(column=1, row=3)

divider = ttk.Label(text=":")
divider.grid(column=2, row=3)

range2_entry = ttk.Entry()
range2_entry.grid(column=3, row=3)

submit = ttk.Button(root,
    text='Submit',
    width=25,
    command=lambda: handle_submit(
        s,
        host_name_entry.get(),
        port_entry.get(),
        range1_entry.get(),
        range2_entry.get()))
submit.grid(column=0, row=4)

root.mainloop()
